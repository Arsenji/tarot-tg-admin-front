# Настройка Юкассы для продакшена

## 1. Получение данных от Юкассы

1. Зайдите в [личный кабинет Юкассы](https://yookassa.ru/my)
2. Перейдите в раздел "Настройки" → "API"
3. Скопируйте:
   - **Shop ID** (идентификатор магазина)
   - **Secret Key** (секретный ключ)

## 2. Настройка webhook

1. В личном кабинете Юкассы перейдите в "Настройки" → "Webhook"
2. Укажите URL: `https://yourdomain.com/api/yookassa/webhook`
3. Выберите события:
   - `payment.succeeded` (успешная оплата)
   - `payment.canceled` (отмена оплаты)

## 3. Обновление конфигурации

Замените в файле `backend/.env.production`:

```env
YOOKASSA_SHOP_ID=ваш_shop_id_от_юкассы
YOOKASSA_SECRET_KEY=ваш_secret_key_от_юкассы
```

## 4. Тестирование

### Тестовый режим
- Используйте тестовые карты Юкассы
- Платежи не будут списываться реально

### Продакшен
- Замените тестовые данные на реальные
- Убедитесь, что webhook настроен правильно

## 5. Мониторинг

Проверяйте логи на предмет ошибок:
```bash
tail -f backend/logs/app.log | grep -i yookassa
```

## 6. Безопасность

- Никогда не коммитьте реальные ключи в Git
- Используйте переменные окружения
- Регулярно обновляйте ключи
