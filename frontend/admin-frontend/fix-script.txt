<script>
// Router –∏ API –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
console.log('üîß Admin Panel Fixes Loaded');

// –ò—Å–ø—Ä–∞–≤–ª—è–µ–º API URLs
const originalFetch = window.fetch;
window.fetch = function(url, options) {
  if (typeof url === 'string' && url.includes('/api/api/')) {
    url = url.replace('/api/api/', '/api/');
    console.log('üîß Fixed API URL:', url);
  }
  return originalFetch(url, options);
};

// –ò—Å–ø—Ä–∞–≤–ª—è–µ–º React Router –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∞–π—Ç–æ–≤
window.addEventListener('popstate', function(event) {
  console.log('üîß Preventing page reload on route change');
  event.preventDefault();
});

console.log('‚úÖ All fixes applied');
</script>
